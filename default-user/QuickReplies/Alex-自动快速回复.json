{
    "version": 2,
    "name": "Alex-自动快速回复",
    "disableSend": false,
    "placeBeforeInput": true,
    "injectInput": false,
    "color": "rgba(0, 0, 0, 0)",
    "onlyBorderColor": false,
    "qrList": [
        {
            "id": 2,
            "showLabel": true,
            "label": "启动按钮",
            "title": "启动自动继续流程",
            "message": "/# 初始化自动继续系统 ||\n/setglobalvar key=content 继续 ||\n/qr-update set=Alex-自动快速回复 label=ai回复 bot=true ||\n/echo severity=info timeout=3000 自动继续已启动 ||\n/send {{getglobalvar::content}} ||\n/delay 1000 ||\n/trigger",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 7,
            "showLabel": false,
            "label": "ai回复",
            "title": "AI回复后处理逻辑",
            "message": "/# AI回复处理：先关闭自身触发，开启用户回复触发 ||\n/qr-update set=Alex-自动快速回复 label=ai回复 bot=false ||\n/qr-update set=Alex-自动快速回复 label=用户回复 user=true ||\n\n/# 检查AI回复状态，检查四个标签是否全部存在 ||\n/if a={{lastCharMessage}} b=\"<thinking>\" rule=in else={: /# 缺少<thinking>标签，删除重试... || /delmode 1 || /delay 1000 || /delmode 1 || /delay 1000 || /send {{getglobalvar::content}} :} {:\n  /if a={{lastCharMessage}} b=\"</thinking>\" rule=in else={: /# 缺少</thinking>标签，删除重试... || /delmode 1 || /delay 1000 || /delmode 1 || /delay 1000 || /send {{getglobalvar::content}} :} {:\n    /if a={{lastCharMessage}} b=\"<content>\" rule=in else={: /# 缺少<content>标签，删除重试... || /delmode 1 || /delay 1000 || /delmode 1 || /delay 1000 || /send {{getglobalvar::content}} :} {:\n      /if a={{lastCharMessage}} b=\"</content>\" rule=in else={: /# 缺少</content>标签，删除重试... || /delmode 1 || /delay 1000 || /delmode 1 || /delay 1000 || /send {{getglobalvar::content}} :} {:\n        /# 所有标签都存在，继续流程 || /send {{getglobalvar::content}}\n      :}\n    :}\n  :}\n:}",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 8,
            "showLabel": false,
            "label": "用户回复",
            "title": "用户回复后处理逻辑",
            "message": "/# 用户回复处理：先触发AI，再调整触发状态 ||\n/delay 1000 ||\n/trigger ||\n/delay 1000 ||\n/qr-update set=Alex-自动快速回复 label=用户回复 user=false ||\n/qr-update set=Alex-自动快速回复 label=ai回复 bot=true ||\n/delay 200000000 ||",
            "contextList": [],
            "preventAutoExecute": false,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 6,
            "showLabel": true,
            "label": "终止按钮",
            "title": "停止自动继续",
            "message": "/# 停止自动继续系统 ||\n/qr-update set=Alex-自动快速回复 label=ai回复 bot=false ||\n/qr-update set=Alex-自动快速回复 label=用户回复 user=false ||\n/echo severity=info timeout=3000 已停止自动继续",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        }
    ],
    "idIndex": 8
}